import{_ as g,u as b,c as v,a as o,w as s,r as l,b as y,d as V,o as h,e as x,f as k,g as B,E,h as L,i as N}from"./index-4Wd1cmi8.js";import{a as S}from"./index-DJ2L1Pru.js";const C={class:"login-wrap"},M={__name:"Login",setup(R){const m=y(),i=V(),p=b(),t=L({username:"admin",password:"admin123"}),r=N(!1);async function c(){var d,e;r.value=!0;try{const{data:a}=await S.login(t.username,t.password);p.setLogin(a.token,a.admin);const n=i.query.redirect||"/";m.push(n)}catch(a){E.error(((e=(d=a.response)==null?void 0:d.data)==null?void 0:e.error)||"登录失败")}finally{r.value=!1}}return(d,e)=>{const a=l("el-input"),n=l("el-form-item"),_=l("el-button"),f=l("el-form"),w=l("el-card");return h(),v("div",C,[o(w,{class:"login-card"},{header:s(()=>[...e[2]||(e[2]=[B("span",null,"管理后台登录",-1)])]),default:s(()=>[o(f,{model:t,onSubmit:x(c,["prevent"])},{default:s(()=>[o(n,{label:"用户名"},{default:s(()=>[o(a,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=u=>t.username=u),placeholder:"admin"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码"},{default:s(()=>[o(a,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=u=>t.password=u),type:"password",placeholder:"admin123","show-password":""},null,8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(_,{type:"primary","native-type":"submit",loading:r.value,style:{width:"100%"}},{default:s(()=>[...e[3]||(e[3]=[k(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}},A=g(M,[["__scopeId","data-v-7f6243b7"]]);export{A as default};
