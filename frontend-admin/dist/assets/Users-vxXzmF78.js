import{u as f}from"./index-DJ2L1Pru.js";import{k as b,c as w,g as h,l as x,j as y,w as k,a as e,m as C,i as a,r as p,o as v}from"./index-4Wd1cmi8.js";const N={__name:"Users",setup(B){const n=a([]),s=a(!1),r=a(1),i=a(20),u=a(0);async function c(){s.value=!0;try{const{data:t}=await f.list({offset:(r.value-1)*i.value,limit:i.value});n.value=t.list||[],u.value=t.total||0}catch{n.value=[]}finally{s.value=!1}}return b(c),(t,l)=>{const o=p("el-table-column"),d=p("el-table"),m=p("el-pagination"),_=C("loading");return v(),w("div",null,[l[1]||(l[1]=h("h2",{style:{margin:"0 0 20px"}},"用户管理（C 端用户列表）",-1)),x((v(),y(d,{data:n.value,stripe:""},{default:k(()=>[e(o,{prop:"id",label:"ID",width:"80"}),e(o,{prop:"phone",label:"手机号",width:"140"}),e(o,{prop:"nickname",label:"昵称"}),e(o,{prop:"created_at",label:"注册时间",width:"180"})]),_:1},8,["data"])),[[_,s.value]]),e(m,{"current-page":r.value,"onUpdate:currentPage":l[0]||(l[0]=g=>r.value=g),"page-size":i.value,total:u.value,layout:"total, prev, pager, next",onCurrentChange:c,style:{"margin-top":"16px"}},null,8,["current-page","page-size","total"])])}}};export{N as default};
