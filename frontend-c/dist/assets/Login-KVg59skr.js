import{_ as g,i as f,a as b,c as _,b as t,w as y,j as r,v as u,t as h,d as i,l as k,u as x}from"./index-CrVrwAiP.js";import{a as w}from"./index-NDcc4Jqj.js";const S={class:"login-page"},B={class:"card login-card"},L={class:"form-group"},V={class:"form-group"},q=["disabled"],D={__name:"Login",setup(M){const d=x(),p=k(),c=f(),a=i(""),l=i("123456"),s=i(!1);async function m(){var n,e;s.value=!0;try{const{data:o}=await w.login(a.value,l.value||"123456");c.setLogin(o.token,o.user);const v=p.query.redirect||"/";d.push(v)}catch(o){alert(((e=(n=o.response)==null?void 0:n.data)==null?void 0:e.error)||"登录失败")}finally{s.value=!1}}return(n,e)=>(b(),_("div",S,[t("div",B,[e[4]||(e[4]=t("h1",{class:"page-title"},"登录",-1)),t("form",{onSubmit:y(m,["prevent"])},[t("div",L,[e[2]||(e[2]=t("label",{for:"login-phone"},"手机号",-1)),r(t("input",{id:"login-phone","onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),type:"tel",placeholder:"请输入手机号",required:"",autocomplete:"tel"},null,512),[[u,a.value]])]),t("div",V,[e[3]||(e[3]=t("label",{for:"login-code"},"验证码（mock 固定 123456）",-1)),r(t("input",{id:"login-code","onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),type:"text",placeholder:"123456",autocomplete:"one-time-code"},null,512),[[u,l.value]])]),t("button",{type:"submit",class:"btn btn-primary btn-block",disabled:s.value},h(s.value?"登录中...":"登录"),9,q)],32),e[5]||(e[5]=t("p",{class:"login-hint"},"演示：验证码固定为 123456",-1))])]))}},j=g(D,[["__scopeId","data-v-1e325a69"]]);export{j as default};
