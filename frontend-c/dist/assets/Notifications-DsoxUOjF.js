import{n as u}from"./index-NDcc4Jqj.js";import{_ as f,o as m,a as e,c as a,b as o,F as p,r as y,d as l,n as h,t as n,e as v}from"./index-CrVrwAiP.js";const g={class:"notifications-page"},k={key:0,class:"loading"},N={key:1,class:"empty"},x={key:2,class:"notif-list"},B={class:"notif-type"},C={class:"notif-time"},D={key:0,class:"notif-meta"},b={__name:"Notifications",setup(w){const i=l([]),r=l(!0);function d(t){return t?new Date(t).toLocaleString("zh-CN"):""}function _(t){return t.read_at?t.read_at!=="1970-01-01T00:00:00Z"&&t.read_at!=="1970-01-01 00:00:00":!1}return m(async()=>{try{const{data:t}=await u.list({limit:50});i.value=t.list||[]}catch{i.value=[]}finally{r.value=!1}}),(t,c)=>(e(),a("div",g,[c[0]||(c[0]=o("h1",{class:"page-title"},"消息通知",-1)),r.value?(e(),a("div",k,"加载中...")):i.value.length===0?(e(),a("div",N,"暂无消息")):(e(),a("ul",x,[(e(!0),a(p,null,y(i.value,s=>(e(),a("li",{key:s.id,class:h(["card notif-item",{unread:!_(s)}])},[o("span",B,n(s.type),1),o("time",C,n(d(s.created_at)),1),s.related_id?(e(),a("p",D,"相关 ID: "+n(s.related_id),1)):v("",!0)],2))),128))]))]))}},I=f(b,[["__scopeId","data-v-1abe943c"]]);export{I as default};
